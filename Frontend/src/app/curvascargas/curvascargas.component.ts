import { Component, OnInit,ViewChild } from '@angular/core';
import { ChartDataSets, ChartOptions } from 'chart.js';
import { Color, BaseChartDirective, Label } from 'ng2-charts';

@Component({
  selector: 'app-curvascargas',
  templateUrl: './curvascargas.component.html',
  styleUrls: ['./curvascargas.component.css']
})
export class CurvascargasComponent implements OnInit {
  @ViewChild(BaseChartDirective, { static: true }) chart: BaseChartDirective;

  Consumo:number;
  Tarde="";
  Cocina="";
  Lavadora="";
  Secadora="";
  Calefon="";
  Resultado=[];
  Vector=[];
  func='';

  constructor() { }

  ngOnInit() {
  } 
  
  Dibujar(){
    
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.003321026,0.003321026,0.003321026,0.003321026,0.003321026,0.007822861,0.129079419,0.003321026,0.003321026,0.003321026,0.003321026,0.003321026,0.003321026,0.003321026,0.093394627,0.021106964,0.021106964,0.026162304,0.032546053,0.163763475,0.208339022,0.108855848,0.133210037,0.014760115
      ];
    }
    // 17cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.004266616,0.004266616,0.004266616,0.004266616,0.004266616,0.010050251,0.023608609,0.004266616,0.004266616,0.004266616,0.004266616,0.004266616,0.004266616,0.004266616,0.119986726,0.027116716,0.027116716,0.033611453,0.041812838,0.210391581,0.26765905,0.139850194,0.02863373,0.018962738
      ];
    }
    // 9cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.003643716,0.003643716,0.003643716,0.003643716,0.003643716,0.008582975,0.141621518,0.003643716,0.003643716,0.003643716,0.003643716,0.003643716,0.003643716,0.003643716,0.102469387,0.023157838,0.023157838,0.028704384,0.035708415,0.179675677,0.228582441,0.022267152,0.146153491,0.016194293];
    }
    // 18cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.004814379,0.004814379,0.004814379,0.004814379,0.004814379,0.011340537,0.026639563,0.004814379,0.004814379,0.004814379,0.004814379,0.004814379,0.004814379,0.004814379,0.135391035,0.030598053,0.030598053,0.037926607,0.047180914,0.237402375,0.302022039,0.029421205,0.032309832,0.02139724];
    }
    // 5cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.003557304,0.003557304,0.003557304,0.003557304,0.003557304,0.008379427,0.138262913,0.003557304,0.003557304,0.003557304,0.003557304,0.003557304,0.003557304,0.003557304,0.100039288,0.022608642,0.022608642,0.028023649,0.034861577,0.175414604,0.15201545,0.116600514,0.142687409,0.015810239];
    }
    // 19cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.004664663,0.004664663,0.004664663,0.004664663,0.004664663,0.010987872,0.025811133,0.004664663,0.004664663,0.004664663,0.004664663,0.004664663,0.004664663,0.004664663,0.131180678,0.029646522,0.029646522,0.036747175,0.045713693,0.230019695,0.199336581,0.152897274,0.031305069,0.020731834];
    }
    // 10cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.003930121,0.003930121,0.003930121,0.003930121,0.003930121,0.009257618,0.152753312,0.003930121,0.003930121,0.003930121,0.003930121,0.003930121,0.003930121,0.003930121,0.110523728,0.0249781,0.0249781,0.030960618,0.038515183,0.193798619,0.167947158,0.024017404,0.157641508,0.017467203];
    }
    // 20cc
    if(this.Tarde=='Si' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.005327335,0.005327335,0.005327335,0.005327335,0.005327335,0.012548834,0.029477921,0.005327335,0.005327335,0.005327335,0.005327335,0.005327335,0.005327335,0.005327335,0.149816503,0.033858174,0.033858174,0.041967562,0.052207884,0.262696815,0.227654789,0.032555937,0.035752338,0.023677045];
    }
    // 3cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.004712027,0.004712027,0.004712027,0.004712027,0.004712027,0.011099442,0.183143927,0.004712027,0.004712027,0.004712027,0.004712027,0.004712027,0.004712027,0.004712027,0.02780096,0.02994755,0.02994755,0.037120302,0.046177865,0.075287722,0.138533596,0.154449777,0.189004642,0.020942343];
    }
    // 21cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.006873377,0.006873377,0.006873377,0.006873377,0.006873377,0.016190622,0.038032687,0.006873377,0.006873377,0.006873377,0.006873377,0.006873377,0.006873377,0.006873377,0.040552925,0.04368413,0.04368413,0.054146938,0.067359096,0.109821292,0.202077287,0.225294028,0.046127998,0.030548343];
    }
    // 11cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.005389202,0.005389202,0.005389202,0.005389202,0.005389202,0.012694565,0.209463918,0.005389202,0.005389202,0.005389202,0.005389202,0.005389202,0.005389202,0.005389202,0.031796293,0.034251374,0.034251374,0.042454937,0.052814182,0.086107475,0.158442545,0.032934013,0.216166888,0.02395201];
    }
    // 22cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.008415934,0.008415934,0.008415934,0.008415934,0.008415934,0.0198242,0.046568169,0.008415934,0.008415934,0.008415934,0.008415934,0.008415934,0.008415934,0.008415934,0.049654012,0.053487937,0.053487937,0.066298859,0.082476155,0.134467926,0.247428465,0.051430709,0.056480269,0.037404152];
    }
    // 6cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.005202294,0.005202294,0.005202294,0.005202294,0.005202294,0.012254293,0.202199299,0.005202294,0.005202294,0.005202294,0.005202294,0.005202294,0.005202294,0.005202294,0.030693535,0.033063469,0.033063469,0.040982517,0.050982482,0.083121099,0.048901565,0.17051964,0.208669797,0.023121307];
    }
    // 23cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.007968833,0.007968833,0.007968833,0.007968833,0.007968833,0.018771029,0.044094209,0.007968833,0.007968833,0.007968833,0.007968833,0.007968833,0.007968833,0.007968833,0.047016115,0.050646361,0.050646361,0.062776696,0.078094563,0.127324243,0.07490703,0.261200638,0.053479724,0.035417036];
    }
    // 12cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.006040244,0.006040244,0.006040244,0.006040244,0.006040244,0.014228131,0.234768182,0.006040244,0.006040244,0.006040244,0.006040244,0.006040244,0.006040244,0.006040244,0.03563744,0.038389107,0.038389107,0.047583701,0.059194393,0.096509678,0.056778295,0.036912603,0.242280904,0.026845529];
    }
    // 24cc
    if(this.Tarde=='Si' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.010119181,0.010119181,0.010119181,0.010119181,0.010119181,0.023836294,0.055992804,0.010119181,0.010119181,0.010119181,0.010119181,0.010119181,0.010119181,0.010119181,0.059703171,0.06431302,0.06431302,0.079716663,0.099167978,0.161682033,0.095120306,0.061839442,0.067910951,0.04497414];
    }
    // 2cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.00918701,0.151588269,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.003900146,0.038221429,0.192320526,0.244669151,0.127838114,0.156439184,0.017333982];
    }
    // 25cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.012419449,0.029173989,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.005272408,0.051669596,0.259988284,0.330755712,0.172817809,0.035383714,0.023432923];
    }
    // 13cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.010253404,0.169184071,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.00435286,0.042658031,0.214644376,0.273069434,0.026600813,0.174598062,0.019346046];
    }
    // 26cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.014451261,0.03394683,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.006134969,0.060122699,0.302522154,0.384867076,0.037491479,0.041172461,0.02726653];
    }
    // 7cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.009964251,0.16441296,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.004230107,0.041455044,0.208591252,0.180766552,0.138653491,0.169674272,0.018800473];
    }
    // 27cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.013883432,0.032612967,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.00589391,0.057760314,0.290635232,0.251866405,0.19318926,0.039554682,0.026195154];
    }
    // 14cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.011231157,0.185317275,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.004767944,0.046725853,0.235112624,0.203750147,0.029137437,0.191247538,0.021190863];
    }
    // 28cc
    if(this.Tarde=='No' && this.Cocina=='Si' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.016472416,0.038694639,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.006993007,0.068531469,0.344832945,0.298834499,0.042735043,0.046930847,0.031080031];
    }
    // 4cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.012406323,0.204707849,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.005266835,0.00596908,0.051614987,0.084152326,0.154844962,0.172635162,0.211258622,0.023408158];
    }
    // 29cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.019130121,0.044937737,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.008121278,0.009204115,0.079588522,0.129759971,0.238765566,0.266197437,0.054502797,0.036094568];
    }
    // 15cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.014433492,0.238156707,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006127426,0.006944416,0.060048774,0.09790265,0.180146323,0.037445381,0.245777863,0.027233004];
    }
    // 30cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='Si' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.024418337,0.057360055,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.010366275,0.011748445,0.101589496,0.165630039,0.304768487,0.063349459,0.069569224,0.046072334];
    }
    // 8cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='Si'){
      this.Resultado = [0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.013867031,0.228809934,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.005886947,0.006671873,0.057692081,0.094060332,0.055337302,0.192961043,0.236131988,0.026164209];
    }
    // 31cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='Si' && this.Calefon=='No'){
      this.Resultado = [0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.022839905,0.05365223,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.009696186,0.010989011,0.095022624,0.154923508,0.09114415,0.317819435,0.065072183,0.043094161];
    }
    // 16cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='Si'){
      this.Resultado = [0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.016449334,0.271418662,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.006983208,0.007914302,0.068435436,0.111576141,0.065642153,0.042675158,0.28010422,0.031036479];
    }
    // 32cc
    if(this.Tarde=='No' && this.Cocina=='No' && this.Lavadora=='No' && this.Secadora=='No' && this.Calefon=='No'){
      this.Resultado = [0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.030804999,0.072362685,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.013077594,0.014821273,0.128160418,0.208950886,0.122929381,0.079918628,0.087765185,0.058122639];
    }
    // 1cc

    if(this.Consumo){
      const Vec=this.Resultado;
      const cons=((this.Consumo*1000)/30.4);
      console.log(cons);
      var x=0;
      for( x=0 ; x<Vec.length;x++){
        this.Vector[x]=Vec[x]*cons;
      }
    }
    console.log(this.Vector);
    this.chart.update();
  }

  lineChartData: ChartDataSets[] = [
    { data: this.Vector, label: 'Curva de Carga [W/h]' },
  ];

  lineChartLabels: Label[] = ['0-1','1-2', '2-3', '3-4', '4-5', '5-6', '6-7', '7-8', '8-9', '9-10', '10-11', '11-12', '12-13', '13-14','14-15', '15-16', '16-17', '17-18', '18-19', '19-20', '20-21', '21-22', '22-23','23-24'];

  lineChartOptions = {
    responsive: true,
  };

  public lineChartColors: Color[] = [
    { // grey
      backgroundColor: 'rgba(148,159,177,0.2)',
      borderColor: 'rgba(148,159,177,1)',
      pointBackgroundColor: 'rgba(148,159,177,1)',
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: 'rgba(148,159,177,0.8)'
    },
    { // dark grey
      backgroundColor: 'rgba(77,83,96,0.2)',
      borderColor: 'rgba(77,83,96,1)',
      pointBackgroundColor: 'rgba(77,83,96,1)',
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: 'rgba(77,83,96,1)'
    },
    { // red
      backgroundColor: 'rgba(255,0,0,0.3)',
      borderColor: 'red',
      pointBackgroundColor: 'rgba(148,159,177,1)',
      pointBorderColor: '#fff',
      pointHoverBackgroundColor: '#fff',
      pointHoverBorderColor: 'rgba(148,159,177,0.8)'
    }
  ];
  

  lineChartLegend = true;
  lineChartPlugins = [];
  lineChartType = 'line';

}

